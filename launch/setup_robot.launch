<!-- Assumes Gazebo is already running -->
<launch>
  <!-- This launch file launches a robot launch file found at launch/robots/...  The launch file that is launched is dependent
  on the name of the robot being used and whether the robot is being simulated or used in the real world. -->

  <!-- Settings (Robot position args are overidden by spawn_world.launch)-->
  <arg name="x" default="0.0" />
  <arg name="y" default="0.0" />
  <arg name="z" default="0.0" />
  <arg name="yaw" default="0.0" />
  <!-- Rotation in radians. -->
  <arg name="level" default="level1" />
  <arg name="navigate" default="true" />
  <arg name="3d" default="true" />

  <arg name="robot" default="pioneer" />

  <arg name="sim" default="true" />

  <!-- Launch respective simulated robot -->
  <include file="$(find uml_3d_race)/launch/robots/spawn_$(arg robot).launch" if="$(arg sim)">
    <arg name="x" value="$(arg x)" />
    <arg name="y" value="$(arg y)" />
    <arg name="z" value="$(arg z)" />
    <arg name="yaw" value="$(arg yaw)" />
    <arg name="level" value="$(arg level)" />
    <arg name="navigate" value="$(arg navigate)" />
    <arg name="3d" value="$(arg 3d)" />
  </include>

  <!-- Launch respective physical robot -->
  <include file="$(find uml_3d_race)/launch/robots/run_$(arg robot).launch" unless="$(arg sim)">
    <arg name="x" value="$(arg x)" />
    <arg name="y" value="$(arg y)" />
    <arg name="z" value="$(arg z)" />
    <arg name="yaw" value="$(arg yaw)" />
    <arg name="level" value="$(arg level)" />
    <arg name="navigate" value="$(arg navigate)" />
    <arg name="3d" value="$(arg 3d)" />
  </include>
</launch>
